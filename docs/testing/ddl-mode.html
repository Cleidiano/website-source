<html>
<head>
  <title>Introduction</title>
  <meta name="layout" content="_layout/docs.html"/>
  <meta name="bread1" content="Testing" href="/docs/testing/"/>
  <meta name="bread2" content="DDL Mode" href="/docs/testing/ddl-mode"/>
  <template id="menuNav"><#include "/_layout/_docs_nav_testing.ftl"></template>
  <#assign ddlMode="active">
</head>
<body>

<h2><a id="ddlmode">DDL Mode</a></h2>
<p>
  Most of the time we use <code>dropCreate</code> mode which means that the database will
  be dropped and then re-created before we run all the tests.
</p>
<p>
  We use <em>migrationDropCreate</em> to test database migrations.
</p>

<table class="table">
  <tr>
    <th>Mode</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>dropCreate</td>
    <td>Drop and then create all the tables etc. Most commonly used mode.</td>
  </tr>
  <tr>
    <td>none</td>
    <td>Do not run any DDL. Useful if we want to run 1 particular test without any DDL change.</td>
  </tr>
  <tr>
    <td>migrationDropCreate</td>
    <td>Run the DB migration but first delete the database first ensuring the migration runs against a new database.</td>
  </tr>
  <tr>
    <td>migration</td>
    <td>Run the DB migration. Good for testing migrations run as expected.</td>
  </tr>
  <tr>
    <td>create</td>
    <td>Run the create-all.sql DDL script but delete and recreate the database first.</td>
  </tr>
  <tr>
    <td>createOnly</td>
    <td>Run the create-all.sql DDL script but without recreating the database first.</td>
  </tr>
</table>

<@next_edit "Docker" "docker" "/docs/testing/ddl-mode.html"/>

</body>
</html>
